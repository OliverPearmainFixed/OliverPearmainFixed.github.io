<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Android: How To Launch an Email Intent Attaching a Resource via a URL | Oliver Pearmain</title>
	<link rel="shortcut icon" href="../../../wp-content/themes/clean-simple-white/favicon.ico" />	<link href="../../../wp-content/themes/clean-simple-white/style.css" rel="stylesheet" type="text/css" media="screen" />
		<link rel="alternate" type="application/rss+xml" title="Oliver Pearmain &raquo; Android: How To Launch an Email Intent Attaching a Resource via a URL Comments Feed" href="../feed/index.html" />
<script type='text/javascript' src='http://www.oliverpearmain.com/wp-includes/js/comment-reply.js?ver=20090102'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Oliver Pearmain' href='../../../index.html' />
<link rel='start' title='My First Blog Post &#8211; Welcome to My Site' href='../../my-first-blog-post-welcome-to-my-site/index.html' />
<link rel='prev' title='Unboxing of HD Anywhere 4&#215;4 HDMI CAT 5/6 Matrix Switch (aka Grandbeing MX0404-323)' href='../../unboxing-of-hd-anywhere-44-hdmi-cat-56-matrix-switch-aka-grandbeing-mx0404-323/index.html' />
<link rel='next' title='Why I Always Use Curly Braces/Brackets' href='../../why-i-always-use-curly-bracesbrackets/index.html' />
<meta name="generator" content="WordPress 2.9.2" />
<link rel='canonical' href='../index.html' />
	
<!-- START: Syntax Highlighter ComPress -->
<script type="text/javascript" src="../../../wp-content/plugins/syntax-highlighter-compress/scripts/shCore.js"></script>
<script type="text/javascript" src="../../../wp-content/plugins/syntax-highlighter-compress/scripts/shAutoloader.js"></script>
<link type="text/css" rel="stylesheet" href="../../../wp-content/plugins/syntax-highlighter-compress/styles/shCoreDefault.css"/>
<!-- END: Syntax Highlighter ComPress -->

  </head>

<body>
	<div id="wrapper">
	<div id="container">
	<div id="header">
		<div id="head-title"><a href="../../../index.html">Oliver Pearmain</a></div>
		<div id="head-desc"></div>
	</div><!-- end header -->

	<div id="head-nav">
		<ul id="nav">
			<li class="page_item page-item-23"><a href="../../../index.html" title="Home">Home</a></li>
<li class="page_item page-item-21 current_page_parent"><a href="../../index.html" title="Blog">Blog</a></li>
<li class="page_item page-item-15"><a href="../../../android/index.html" title="Android">Android</a>
<ul>
	<li class="page_item page-item-18"><a href="../../../android/in-app-wifi-toggle/index.html" title="In-App Wifi Toggle">In-App Wifi Toggle</a></li>
	<li class="page_item page-item-43"><a href="../../../android/in-app-bluetooth-toggle/index.html" title="In-App Bluetooth Toggle">In-App Bluetooth Toggle</a></li>
	<li class="page_item page-item-46"><a href="../../../android/in-app-donate/index.html" title="In-App Donate">In-App Donate</a></li>
</ul>
</li>
<li class="page_item page-item-10"><a href="../../../projects/index.html" title="Projects">Projects</a></li>
<li class="page_item page-item-2"><a href="../../../about/index.html" title="About">About</a></li>
<li class="page_item page-item-97"><a href="../../../contact/index.html" title="Contact">Contact</a></li>
		</ul>
		<div class="clear"></div>
	</div><!-- end head-nav -->

	<div id="main-content"><h1><a href="../index.html">Android: How To Launch an Email Intent Attaching a Resource via a URL</a></h1>
<div class="post-meta">Posted in <a href="../../category/miscellaneous/index.html" title="View all posts in Miscellaneous" rel="category tag">Miscellaneous</a> - 8 August 2012 - 3 comments</div>
<p>Today at work I had the requirement to invoke an intent that would send a plain text email but with an <strong>image attachment sourced from the internet</strong>.  I struggled to find a complete solution online for these particular requirements and thought I&#8217;d share my solution here.</p>
<pre class="brush:java; gutter: false;">
String urlOfImageToDownload = "https://ssl.gstatic.com/s2/oz/images"
    + "/google-logo-plus-0fbe8f0119f4a902429a5991af5db563.png";
String attachmentFileName = "AnImageFromTheWeb.png";

// Start to build up the email intent
Intent i = new Intent(Intent.ACTION_SEND);
i.setType("message/rfc822");
i.putExtra(Intent.EXTRA_EMAIL, new String[] { "abc@mail.com" });
i.putExtra(Intent.EXTRA_SUBJECT, "Check Out This Image");
i.putExtra(Intent.EXTRA_TEXT, "There should be an image attached");

// Do we need to download and attach an icon and is the SD Card available?
if (urlOfImageToDownload != null &#038;&#038; Environment.MEDIA_MOUNTED.equals(
        Environment.getExternalStorageState())) {
    // Download the icon...
    URL iconUrl = new URL(urlOfImageToDownload);
    HttpURLConnection connection
        = (HttpURLConnection) iconUrl.openConnection();
    connection.setDoInput(true);
    connection.connect();
    InputStream input = connection.getInputStream();
    Bitmap immutableBpm = BitmapFactory.decodeStream(input);

    // Save the downloaded icon to the pictures folder on the SD Card
    File directory = Environment.getExternalStoragePublicDirectory(
        Environment.DIRECTORY_PICTURES);
    directory.mkdirs(); // Make sure the Pictures directory exists.
    File destinationFile = new File(directory, attachmentFileName);
    FileOutputStream out = new FileOutputStream(destinationFile);
    immutableBpm.compress(Bitmap.CompressFormat.PNG, 90, out);
    out.flush();
    out.close();
    Uri mediaStoreImageUri = Uri.fromFile(destinationFile);		

    // Add the attachment to the intent
    i.putExtra(Intent.EXTRA_STREAM, mediaStoreImageUri);
}						

// Fire the intent
startActivity(i);
</pre>
<div class="post-tag"></div>

<!-- You can start editing here. -->

	<h4 id="comments">3 Responses - <a href="index.html#respond">Add Yours+</a></h4>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
		<div class="clear"></div>
	</div>

	<ol class="commentlist">
			<li class="comment even thread-even depth-1" id="comment-9780">
				<div id="div-comment-9780" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://www.gravatar.com/avatar/4d0dd80d8abd51bc93957371a973bbd6?s=32&d=http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=32&r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">R. Udhayakumar</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="index.html#comment-9780">September 17, 2013 at 06:43</a></div>

		<p>Thank you for this <a href="../index.html" rel="nofollow">http://www.oliverpearmain.com/blog/android-how-to-launch-an-email-intent-attaching-a-resource-via-a-url/</a> post.</p>
<p>Its really helped me a lot.</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-14137">
				<div id="div-comment-14137" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://www.gravatar.com/avatar/feb6e68cd0db6fd716e8130984a8536d?s=32&d=http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=32&r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">Ranjit Paul</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="index.html#comment-14137">April 30, 2014 at 07:47</a></div>

		<p>getting error on this line:<br />
 File destinationFile = new File(directory, attachmentFileName);</p>
<p>error on attachmentFileName</p>

		<div class="reply">
				</div>
				</div>
		</li>
		<li class="comment byuser comment-author-admin bypostauthor even thread-even depth-1" id="comment-14139">
				<div id="div-comment-14139" class="comment-body">
				<div class="comment-author vcard">
		<img alt='' src='http://www.gravatar.com/avatar/9e13794ab41112b335f49f9f153802ad?s=32&d=http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=32&r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">Ollie</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="index.html#comment-14139">April 30, 2014 at 08:36</a></div>

		<p>Ranjit, you just need to instanciate your own attachmentFileName String and set it to whatever you like (probably with a matching filename extension of what you&#8217;re downloading).  </p>
<p>I&#8217;ve added this to my code sample.</p>

		<div class="reply">
				</div>
				</div>
		</li>
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
		<div class="clear"></div>
	</div>
 


<div id="respond">

<h4>Leave a Reply</h4>

<div class="cancel-comment-reply">
	<small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html#respond" style="display:none;">Click here to cancel reply.</a></small>
</div>


<form action="http://www.oliverpearmain.com/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1" aria-required='true' />
<label for="author"><small>Name (required)</small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2" aria-required='true' />
<label for="email"><small>Mail (will not be published) (required)</small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3" />
<label for="url"><small>Website</small></label></p>


<!--<p><small><strong>XHTML:</strong> You can use these tags: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></small></p>-->

<p><textarea name="comment" id="comment" cols="58" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment" />
<input type='hidden' name='comment_post_ID' value='350' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p>

</form>

</div>

</div><!-- end main-content -->

<div id="sidebar">

	<div class="widget">
		<form method="get" id="searchform" action="http://www.oliverpearmain.com/"><div class="search-box">
<input type="text" value="search this site" name="s" id="s" onfocus="if (this.value == 'search this site') {this.value = '';}" onblur="if (this.value == '') {this.value = 'search this site';}" />
<input type="submit" id="searchsubmit" value="Search" />
</div></form>	</div>

		<div class="widget">
		<h4>Recent Posts</h4>
				<ul>
						<li><a href="../../changing-a-websites-site-name-in-iis-7/index.html">Changing a Websites Site Name in IIS 7</a></li>
						<li><a href="../../why-i-always-use-curly-bracesbrackets/index.html">Why I Always Use Curly Braces/Brackets</a></li>
						<li><a href="../index.html">Android: How To Launch an Email Intent Attaching a Resource via a URL</a></li>
						<li><a href="../../unboxing-of-hd-anywhere-44-hdmi-cat-56-matrix-switch-aka-grandbeing-mx0404-323/index.html">Unboxing of HD Anywhere 4&#215;4 HDMI CAT 5/6 Matrix Switch (aka Grandbeing MX0404-323)</a></li>
						<li><a href="../../experiences-with-octava-4x4-hdmi-matrix-switch-hdmx44cat-uk/index.html">Experiences with Octava 4&#215;4 HDMI Matrix Switch (HDMX44CAT-UK)</a></li>
						<li><a href="../../holy-smokes-someone-just-put-a-rocket-up-my-2-2-2-nexus-one-init-android-process-lagslow-down-fix/index.html">Holy Smokes, Someone Just Put a Rocket Up My [2.2.2] Nexus One (INIT Android Process Lag/Slow Down Fix)</a></li>
						<li><a href="../../using-maxdop-with-complex-sql-queries/index.html">Using MAXDOP with Complex SQL Queries</a></li>
					</ul>
	</div>
	
	<div class="widget">
		<h4>Categories</h4>
		<ul>
				<li class="cat-item cat-item-3"><a href="../../category/android/index.html" title="View all posts filed under Android">Android</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../category/audio-video/index.html" title="View all posts filed under Audio Video">Audio Video</a>
</li>
	<li class="cat-item cat-item-4"><a href="../../category/c-sharp/index.html" title="View all posts filed under C#">C#</a>
</li>
	<li class="cat-item cat-item-12"><a href="../../category/dropbox/index.html" title="View all posts filed under Dropbox">Dropbox</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../category/miscellaneous/index.html" title="View all posts filed under Miscellaneous">Miscellaneous</a>
</li>
	<li class="cat-item cat-item-9"><a href="../../category/nexus-one/index.html" title="View all posts filed under Nexus One">Nexus One</a>
</li>
	<li class="cat-item cat-item-6"><a href="../../category/sql/index.html" title="View all posts filed under SQL">SQL</a>
</li>
	<li class="cat-item cat-item-13"><a href="../../category/subversion/index.html" title="View all posts filed under Subversion">Subversion</a>
</li>
	<li class="cat-item cat-item-11"><a href="../../category/web/index.html" title="View all posts filed under Web">Web</a>
</li>
	<li class="cat-item cat-item-7"><a href="../../category/windows/index.html" title="View all posts filed under Windows">Windows</a>
</li>
	<li class="cat-item cat-item-5"><a href="../../category/wordpress/index.html" title="View all posts filed under WordPress">WordPress</a>
</li>
		</ul>
	</div>

	<div class="widget">
		<h4>Calendar</h4>
		<table id="wp-calendar" summary="Calendar">
	<caption>April 2015</caption>
	<thead>
	<tr>
		<th abbr="Monday" scope="col" title="Monday">M</th>
		<th abbr="Tuesday" scope="col" title="Tuesday">T</th>
		<th abbr="Wednesday" scope="col" title="Wednesday">W</th>
		<th abbr="Thursday" scope="col" title="Thursday">T</th>
		<th abbr="Friday" scope="col" title="Friday">F</th>
		<th abbr="Saturday" scope="col" title="Saturday">S</th>
		<th abbr="Sunday" scope="col" title="Sunday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td abbr="October" colspan="3" id="prev"><a href="../../2012/10/index.html" title="View posts for October 2012">&laquo; Oct</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next" class="pad">&nbsp;</td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="2" class="pad">&nbsp;</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td>
	</tr>
	<tr>
		<td>6</td><td>7</td><td>8</td><td>9</td><td>10</td><td id="today">11</td><td>12</td>
	</tr>
	<tr>
		<td>13</td><td>14</td><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td>
	</tr>
	<tr>
		<td>20</td><td>21</td><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td>
	</tr>
	<tr>
		<td>27</td><td>28</td><td>29</td><td>30</td>
		<td class="pad" colspan="3">&nbsp;</td>
	</tr>
	</tbody>
	</table>	</div>

			
</div><!-- end sidebar -->
<div class="clear"></div>

<div id="footer">
<div id="foot-1">
<div class="widget">
<h4>Partner Sites</h4>
<ul>
<li><a href="http://www.rjp-software.co.uk/blog/" rel="friend met co-worker colleague" target="_blank">Richard Penrose</a></li>
<li><a href="http://www.stevefenton.co.uk/Content/Blog/" rel="friend met co-worker colleague" target="_blank">Steve Fenton</a></li>
</ul></div>
</div><!-- end foot-1 -->

<div id="foot-right">
<div id="foot-2">
<div class="widget">
<h4>Archives</h4>
<ul>
	<li><a href='../../2012/10/index.html' title='October 2012'>October 2012</a></li>
	<li><a href='../../2012/09/index.html' title='September 2012'>September 2012</a></li>
	<li><a href='../../2012/08/index.html' title='August 2012'>August 2012</a></li>
	<li><a href='../../2011/05/index.html' title='May 2011'>May 2011</a></li>
	<li><a href='../../2011/04/index.html' title='April 2011'>April 2011</a></li>
	<li><a href='../../2011/03/index.html' title='March 2011'>March 2011</a></li>
	<li><a href='../../2011/02/index.html' title='February 2011'>February 2011</a></li>
	<li><a href='../../2010/10/index.html' title='October 2010'>October 2010</a></li>
	<li><a href='../../2010/09/index.html' title='September 2010'>September 2010</a></li>
	<li><a href='../../2010/08/index.html' title='August 2010'>August 2010</a></li>
</ul>
</div>
</div><!-- end foot-2 -->

<div id="foot-3">
<div class="widget">
<h4>Pages</h4>
<ul>
<li class="page_item page-item-23"><a href="../../../index.html" title="Home">Home</a></li>
<li class="page_item page-item-21 current_page_parent"><a href="../../index.html" title="Blog">Blog</a></li>
<li class="page_item page-item-15"><a href="../../../android/index.html" title="Android">Android</a></li>
<li class="page_item page-item-10"><a href="../../../projects/index.html" title="Projects">Projects</a></li>
<li class="page_item page-item-2"><a href="../../../about/index.html" title="About">About</a></li>
<li class="page_item page-item-97"><a href="../../../contact/index.html" title="Contact">Contact</a></li>
</ul>
</div>
</div><!-- end foot-3 -->
<div class="clear"></div>
</div><!-- end foot-right -->
<div class="clear"></div>
</div><!-- end footer -->

<div id="footer-credit">
Copyright &copy; 2015 <b><a href="../../../index.html">Oliver Pearmain</a></b>. <a href="../../../feed/index.html">Entries (RSS)</a>. Clean Simple White Theme by <a href="http://mazznoer.web.id/">Mazznoer</a>. Powered by <a href="http://wordpress.org/">WordPress</a>.
<div id="footer-desc"></div>
</div><!-- end footer-credit -->

</div><!-- end div #container -->
</div><!-- end div #wrapper -->

<!--
	Clean Simple White (CSW) Theme for WordPress
	Designed by Mazznoer
	website : http://mazznoer.web.id/
-->

	
<!-- START: Syntax Highlighter ComPress -->
<script type="text/javascript">
    SyntaxHighlighter.autoloader(
        'applescript			http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushAppleScript.js',
        'actionscript3 as3		http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushAS3.js',
        'bash shell				http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushBash.js',
        'coldfusion cf			http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushColdFusion.js',
        'cpp c					http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushCpp.js',
        'c# c-sharp csharp		http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushCSharp.js',
        'css					http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushCss.js',
        'delphi pascal pas		http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushDelphi.js',
        'diff patch			    http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushDiff.js',
        'erl erlang				http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushErlang.js',
        'groovy					http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushGroovy.js',
        'java					http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushJava.js',
        'jfx javafx				http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushJavaFX.js',
        'js jscript javascript	http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushJScript.js',
        'perl pl				http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPerl.js',
        'php					http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPhp.js',
        'text plain				http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPlain.js',
        'powershell ps          http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPowerShell.js',
        'py python				http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPython.js',
        'ruby rails ror rb		http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushRuby.js',
        'sass scss              http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushSass.js',
        'scala					http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushScala.js',
        'sql					http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushSql.js',
        'vb vbnet				http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushVb.js',
        'xml xhtml xslt html	http://www.oliverpearmain.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushXml.js'
    );
                SyntaxHighlighter.defaults['gutter'] = false;     SyntaxHighlighter.defaults['toolbar'] = false;     SyntaxHighlighter.defaults['tab-size'] = 4;
    SyntaxHighlighter.all();
</script>
<!-- END: Syntax Highlighter ComPress -->

	
</body>
</html>